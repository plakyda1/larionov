var myModule=function(){function e(){t(),a()}function t(){$("#introduction__submit, #introduction__submit_footer").on("click",i),$(document).on("mousemove touchend",function(e){var t=$("#meetTo .bg.active").offset();t.top+=$("#meetTo .bg.active").height()/2,t.left+=$("#meetTo .bg.active").width()/2;var a=t.left-e.pageX,i=t.top-e.pageY,o=180*Math.atan2(i,a)/Math.PI;Math.abs(a)<80&&Math.abs(i)<80?($(".bg-container .active").removeClass("active"),$(".bg-container .bg_c").addClass("active")):((o<=45||o>=-45)&&($(".bg-container .active").removeClass("active"),$(".bg-container .bg_l").addClass("active")),o>45&&o<135&&($(".bg-container .active").removeClass("active"),$(".bg-container .bg_t").addClass("active")),(o>=135||o<=-135)&&($(".bg-container .active").removeClass("active"),$(".bg-container .bg_r").addClass("active")),o<-45&&o>-135&&($(".bg-container .active").removeClass("active"),$(".bg-container .bg_b").addClass("active")))})}function a(e){$(".form__phone").mask("+7 (999) 99-99-99")}function i(e){e.preventDefault();var t=$(this).parent("form"),a=t.find(":text"),i=a.val();return a.removeClass("has-error success"),$(".tooltip").remove(),""==i||"undefined"==i?(a.addClass("has-error"),t.append('<div class="tooltip tooltip-error">'+o.error+"</div>")):(a.addClass("success"),t.append('<div class="tooltip tooltip-success">'+o.success+"</div>")),!1}var o={error:"Вы не ввели номер телефона",success:"Мы вам перезвоним"};return{init:e}}();myModule.init(),$(function(){$('a[href="#meetTo"]').on("click",function(e){return e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top+"px"},{duration:1e3,easing:"swing"}),$("#footer__phone").focus(),!1})});var videoModule=function(){function e(){var e=document.createElement("script");e.src="https://www.youtube.com/player_api?enablejsapi=1";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),$(window).load(function(){document.documentElement.clientWidth>=768||(o=new YT.Player("ytmobile"),t()),$(window).on("resize",function(){document.documentElement.clientWidth>=768?a():t()})})}function t(){var e=$(".tricks-wrap .container").width();o.setSize(e,e/16*9)}function a(){var e=$(".tricks-wrap .container").width()+200,t=$(".tricks-wrap .container").height()+200;e/t>16/9?(i.setSize(e,e/16*9),$("#ytplayer").css({left:"0px"})):i.setSize(t/9*16,t),$(".video-wrap").width()<$("#ytplayer").attr("width")&&$("#ytplayer").css({left:-($("#ytplayer").attr("width")-$(".video-wrap").width())/2})}window.videoUrl={willPlay:0,urls:["R-2NVRZauEg","gA-_O2VUwc8","UfehLPb7WEE","NGDA62xFJKQ","rblKTubuRnE","8PfDBK5kNLg","4BVip_01kzs","rjtqjYfymUE","jtgP-TcPpeA","4YTEpFTZtF8","URUtzAACbCY"]};var i,o,n=!1;return window.onPlayerStateChange=function(e,t){function a(){i.stopVideo()}1==e.data&&!n&&$(".tricks").hasClass("videoActivated")&&(alert(1),setTimeout(a,1e3),n=!0),3==e.data&&n&&($(".video-wrap").removeClass("active"),$(".tricks").addClass("videoActivated")),1==e.data&&$(".video-wrap").addClass("active"),0==e.data&&($(".video-wrap").removeClass("active"),$(".tricks").removeClass("videoActivated"))},{init:e}}();videoModule.init();